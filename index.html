<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Pushsite</title>
</head>
<body>
	<button onclick="subscribe()">Sub to me</button>
<script>
addEventListener('load', async () =>{
	let sw = await navigator.serviceWorker.register('./sw.js')
	console.log(sw)
})
  
async function subscribe() {
	let sw = await navigator.serviceWorker.ready;
	let push = await sw.pushManager.subscribe({
	
		userVisibleOnly: true,
		applicationServerKey: 'BFtFjx_4q5yqCkSQ016oexJn3QFm8V5eWRHC4XEdajrZ7JD7KHDtIxrH6J2_5eLg4fmVO60W2NqMK_cWnJosIQw'

	})	
	console.log(JSON.stringify(push))
	
}


</script>
</body>
</html>
